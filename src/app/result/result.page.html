<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start" >
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Result & Analysis</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <br>
  <ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">College Result</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Admin Result</a>
    </li>
    
  </ul>
  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
      <br>
      <div *ngFor='let res of ctest;let i=index'>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              {{i+1}}
            </mat-panel-title>
            <mat-panel-description>
              {{res?.testName}}
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div class="conatiner">
            <div class="card">
              <div class="card-header">
                <b>Overall Progress</b>
              </div>
              <div class="row">
                <div class="col">
                  <br>
                  <p>Topper Score:<b>{{Ctest[i]?.highestScore}}</b></p>
                  <p>Average Score:<b>{{Ctest[i]?.averageScore}}</b></p>
                  <p>Least Score:<b>{{Ctest[i]?.leastScore}}</b></p>
                </div>
                <div class="col">
                  <circle-progress
                                      [percent]="(Ctest[i].highestScore*100)/Ctest[i].maxMark"
                                      [radius]="50"
                                      [outerStrokeWidth]="6"
                                      [innerStrokeWidth]="8"
                                      [outerStrokeColor]="'#4882c2'"
                                      [innerStrokeColor]="'#e7e8ea'"
                                      [animation]="true"
                                      [animationDuration]="1000"
                                    ></circle-progress>
                </div>
              </div>



            </div>
            <br>
            <div class="card">
              <div class="card-header">
                <b>Your Progress</b>
              </div>
              <div class="row">
                <div class="col">
                  <br>
                  <p>Your Score:<b>{{res?.score}}</b></p>
                  <p>Average Score:<b>{{Ctest[i]?.averageScore}}</b></p>
                  <p>Least Score:<b>{{Ctest[i]?.leastScore}}</b></p>
                </div>
                <div class="col">
                  <circle-progress
                                      [percent]="(res.score*100)/Ctest[i].maxMark"
                                      [radius]="50"
                                      [outerStrokeWidth]="6"
                                      [innerStrokeWidth]="8"
                                      [outerStrokeColor]="'#4882c2'"
                                      [innerStrokeColor]="'#e7e8ea'"
                                      [animation]="true"
                                      [animationDuration]="1000"
                                    ></circle-progress>

                </div>
              </div>


            </div>
          </div>
        </mat-expansion-panel>
        
      </div>
      <br>
  <ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="home-tab" data-toggle="tab" href="" role="tab" aria-controls="home" aria-selected="true">Daily Progress</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="profile-tab" data-toggle="tab" href="" role="tab" aria-controls="profile" aria-selected="false">Weekly Progress</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="profile-tab" data-toggle="tab" href="" role="tab" aria-controls="profile" aria-selected="false">Monthly</a>
    </li>
    
  </ul>
      

    </div>
    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
      <br>
      <div *ngFor='let res of atest;let i=index'>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
             {{i+1}}
            </mat-panel-title>
            <mat-panel-description>
              {{res?.testName}}
            </mat-panel-description>
          </mat-expansion-panel-header>
         <div class="container">
           <div class="card">
             <div class="card-header">
               <b>Overall Progress</b>
             </div>
             <div class="row">
               <div class="col">
                 <br>
                <p>Topper Score:<b>{{Atest[i]?.highestScore}}</b></p>
                <p>Average Score:<b>{{Atest[i]?.averageScore}}</b></p>
                <p>Least Score:<b>{{Atest[i]?.leastScore}}</b></p>
               </div>
               <div class="col">
                <circle-progress
                [percent]="(Atest[i].highestScore*100)/Atest[i].maxMark"
                [radius]="50"
                [outerStrokeWidth]="6"
                [innerStrokeWidth]="8"
                [outerStrokeColor]="'#4882c2'"
                [innerStrokeColor]="'#e7e8ea'"
                [animation]="true"
                [animationDuration]="1000"
              ></circle-progress>

               </div>
             </div>


           </div>

           <div class="card">
             <div class="card-header">
               <b>Your Progrss</b>
             </div>
             <div class="row">
               <div class="col">
                 <br>
                <p>Your Score:<b>{{res.score}}</b></p>
                <p>Average Score:<b>{{Atest[i].averageScore}}</b></p>
                <p>Least Score:<b>{{Atest[i].leastScore}}</b></p>
               </div>
               <div class="col">
                <circle-progress
                [percent]="(res.score*100)/Atest[i].maxMark"
                [radius]="50"
                [outerStrokeWidth]="6"
                [innerStrokeWidth]="8"
                [outerStrokeColor]="'#4882c2'"
                [innerStrokeColor]="'#e7e8ea'"
                [animation]="true"
                [animationDuration]="1000"
              ></circle-progress>
                 
               </div>
             </div>
           </div>

         </div>
        </mat-expansion-panel>
      </div>
      <br>
      <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" id="home-tab" data-toggle="tab" href="#adaily" role="tab" aria-controls="adaily" aria-selected="true">Daily Progress</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="profile-tab" data-toggle="tab" href="#aweekly" role="tab" aria-controls="aweekly" aria-selected="false">Weekly Progress</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="profile-tab" data-toggle="tab" href="#amonthly" role="tab" aria-controls="amonthly" aria-selected="false">Monthly</a>
        </li>
        
      </ul>

      <div class="tab-content" id="myTabContent">
        <br>
        <div class="tab-pane fade show active" id="adaily" role="tabpanel" aria-labelledby="adaily-tab">
          <div>
            <canvas id='canvas' style="height:4px; width:4px">{{chart}}</canvas>
          </div>

          </div>
          <div class="tab-pane fade show active" id="aweekly" role="tabpanel" aria-labelledby="aweekly-tab">

          </div>
          <div class="tab-pane fade show active" id="amonthly" role="tabpanel" aria-labelledby="amonthly-tab">
            <div>
              <canvas id='acanvas' style="height:4px; width:4px">{{mchart}}</canvas>
            </div>

          </div>
          </div>

    </div>
    
  </div>

  <ion-menu side="start" content-id="main-content">
    <ion-header>
      <ion-toolbar translucent>
        <ion-title>{{firstName}}</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list>
        <ion-item>
          <ion-icon name="home-outline" slot="start"></ion-icon>
          <ion-label>Home</ion-label>
        </ion-item>
        <ion-item >
          <ion-icon name="cog-outline" slot="start"></ion-icon>
          <ion-label>Settings</ion-label>
        </ion-item>
        <ion-item>
          <ion-icon  (click)='res()' name="barcode-outline" slot="start"></ion-icon>
          <ion-label>Results</ion-label>
        </ion-item>
        <ion-item>
          <ion-icon name="log-out-outline" slot="start"></ion-icon>
          <ion-label>Logout</ion-label>
        </ion-item>
       
      </ion-list>
    </ion-content>
  </ion-menu>
  

  
</ion-content>
